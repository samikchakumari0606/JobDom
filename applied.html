<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Applied</title>
</head>
<body>
    <div id="links">
        <div><a href="./index.html">Home</a></div>
        <div><a href="./applied.html">Applied Jobs</a></div>
        <div><a href="./bookmark.html">Bookmarks</a></div>
    </div>
    <table border="2">
        <thead>
          <tr>
            <th>Name</th>
            <th>Email</th>
            <th>Job applied</th>
            <th>Add to bookmark</th>
          </tr>
        </thead>
        <tbody id="body">
          <!-- Append your output to tbody -->
        </tbody>
      </table>

      <script>
        let ArrObj=JSON.parse(localStorage.getItem("todo"))||[]
        
        console.log(ArrObj);
        displayTable(ArrObj)
   
       let bookMarkArr=JSON.parse(localStorage.getItem("bookMarkApplied"))||[]
        function displayTable(ArrObj){
           document.querySelector("tbody").innerHTML=""
               ArrObj.forEach(function(elem,index){
   
                   let row=document.createElement("tr");
                   let col1=document.createElement("td");
                   col1.innerText=elem.name;
                   let col2=document.createElement("td");
                   col2.innerText=elem.email;
                   let col3=document.createElement("td");
                   col3.innerText=elem.role;
                   let col4=document.createElement("td");
                   col4.innerText="bookmark";
                   col4.addEventListener("click",function(){
                       bookMark(elem,index)
                   }) 
                   row.append(col1,col2,col3,col4);
                   document.querySelector("tbody").append(row);
               })
        }
   
        function bookMark(elem,index){
             bookMarkArr.push(elem)
             localStorage.setItem("bookMarkApplied",JSON.stringify(bookMarkArr))
        }
   </script>
</body>
</html>
